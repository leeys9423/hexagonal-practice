# 게시판 서비스 도메인 모델

## 도메인 개요
- 게시판 서비스는 회원이 글을 작성하고 공유하는 온라인 커뮤니티 서비스이다.
- 회원은 가입 후 글을 작성, 수정, 삭제할 수 있으며, 다른 회원의 글을 조회할 수 있다.
- 각 글은 제목, 내용, 작성자, 작성일시 등의 정보를 가진다.
- 회원은 자신이 작성한 글만 수정하거나 삭제할 수 있다.

---

## [회원 애그리거트]

### 회원(Member)
_Aggregate Root_

#### 속성
- `id`: `Long` - 회원 식별자
- `email`: `Email` - 이메일 (Natural ID)
- `nickname`: `Nickname` - 닉네임
- `passwordHash`: `String` - 비밀번호 해시
- `status`: `MemberStatus` - 회원 상태
- `registeredAt`: `LocalDateTime` - 가입일시
- `lastLoginAt`: `LocalDateTime` - 최종 로그인 일시

#### 행위
- `static register()`: 회원 가입 - email, nickname, password, passwordEncoder
- `activate()`: 회원 활성화
- `deactivate()`: 회원 비활성화
- `verifyPassword()`: 비밀번호 검증 - password, passwordEncoder
- `changePassword()`: 비밀번호 변경
- `updateNickname()`: 닉네임 변경
- `updateLastLogin()`: 최종 로그인 시간 업데이트

#### 규칙
- 회원 생성 시 상태는 PENDING
- 이메일은 중복될 수 없다
- 닉네임은 중복될 수 없다
- 활성 상태인 회원만 글을 작성할 수 있다
- 비밀번호는 해시화되어 저장된다

### 회원 상태(MemberStatus)
_Enum_

#### 상수
- `PENDING`: 대기
- `ACTIVE`: 활성
- `DEACTIVATED`: 비활성

### 이메일(Email)
_Value Object_

#### 속성
- `address`: `String` - 이메일 주소

#### 규칙
- 올바른 이메일 형식이어야 한다

### 닉네임(Nickname)
_Value Object_

#### 속성
- `value`: `String` - 닉네임 값

#### 규칙
- 2자 이상 20자 이하
- 공백 및 특수문자 제한

---

## [게시글 애그리거트]

### 게시글(Post)
_Aggregate Root_

#### 속성
- `id`: `Long` - 게시글 식별자
- `title`: `PostTitle` - 제목
- `content`: `PostContent` - 내용
- `authorId`: `Long` - 작성자 ID (Member 참조)
- `status`: `PostStatus` - 게시글 상태
- `createdAt`: `LocalDateTime` - 작성일시
- `updatedAt`: `LocalDateTime` - 수정일시

#### 행위
- `static create()`: 게시글 생성 - title, content, authorId
- `update()`: 게시글 수정 - title, content, authorId
- `delete()`: 게시글 삭제 - authorId
- `publish()`: 게시글 공개
- `hide()`: 게시글 숨김
- `isAuthor()`: 작성자 확인 - memberId

#### 규칙
- 작성자만 수정, 삭제할 수 있다
- 공개된 게시글만 일반 사용자가 조회할 수 있다
- 수정 시 updatedAt이 갱신된다
- 삭제된 게시글은 DELETED 상태로 변경된다

### 게시글 상태(PostStatus)
_Enum_

#### 상수
- `DRAFT`: 임시저장
- `PUBLISHED`: 공개
- `HIDDEN`: 숨김
- `DELETED`: 삭제

### 게시글 제목(PostTitle)
_Value Object_

#### 속성
- `value`: `String` - 제목 값

#### 규칙
- 1자 이상 100자 이하
- 공백만으로 구성될 수 없다

### 게시글 내용(PostContent)
_Value Object_

#### 속성
- `value`: `String` - 내용 값

#### 규칙
- 1자 이상 10,000자 이하

---

## 도메인 서비스

### 비밀번호 인코더(PasswordEncoder)
_Domain Service_

#### 행위
- `encode()`: 비밀번호 암호화
- `matches()`: 비밀번호 일치 확인

---

## 예외

### DuplicateEmailException
이메일 중복 예외

### DuplicateNicknameException
닉네임 중복 예외

### UnauthorizedPostAccessException
게시글 접근 권한 없음 예외

### PostNotFoundException
게시글 찾을 수 없음 예외